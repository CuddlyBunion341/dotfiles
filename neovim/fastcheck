#!/usr/bin/env bash

set -euo pipefail

echo "🔍 Running format checks for Neovim Lua files..."

# Find and format Lua files in .config/nvim
find .config/nvim -type f -name "*.lua" | while read -r file; do
    echo "Formatting: $file"

    # Use stylua for Lua formatting
    if command -v stylua >/dev/null 2>&1; then
        stylua --config-path .config/nvim/stylua.toml "$file" 2>/dev/null || stylua "$file"
    else
        echo "Warning: stylua not found, skipping Lua formatting"
    fi
done

echo "✅ Neovim Lua file formatting complete!"